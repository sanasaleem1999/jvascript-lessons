/*************************************************************************
* ADOBE CONFIDENTIAL
* ___________________
*
*  Copyright 2013 Adobe Systems Incorporated
*  All Rights Reserved.
*
* NOTICE:  All information contained herein is, and remains
* the property of Adobe Systems Incorporated and its suppliers,
* if any.  The intellectual and technical concepts contained
* herein are proprietary to Adobe Systems Incorporated and its
* suppliers and are protected by all applicable intellectual property laws,
* including trade secret and or copyright laws.
* Dissemination of this information or reproduction of this material
* is strictly forbidden unless prior written permission is obtained
* from Adobe Systems Incorporated.
**************************************************************************/

/*************************************************************************
* ADOBE CONFIDENTIAL
* ___________________
*
*  Copyright 2014 Adobe Systems Incorporated
*  All Rights Reserved.
*
* NOTICE:  All information contained herein is, and remains
* the property of Adobe Systems Incorporated and its suppliers,
* if any.  The intellectual and technical concepts contained
* herein are proprietary to Adobe Systems Incorporated and its
* suppliers and are protected by all applicable intellectual property laws,
* including trade secret and or copyright laws.
* Dissemination of this information or reproduction of this material
* is strictly forbidden unless prior written permission is obtained
* from Adobe Systems Incorporated.
**************************************************************************/

/*************************************************************************
*
* ADOBE CONFIDENTIAL
* ___________________
*
*  Copyright 2013 Adobe Systems Incorporated
*  All Rights Reserved.
*
* NOTICE:  All information contained herein is, and remains
* the property of Adobe Systems Incorporated and its suppliers,
* if any.  The intellectual and technical concepts contained
* herein are proprietary to Adobe Systems Incorporated and its
* suppliers and may be covered by U.S. and Foreign Patents,
* patents in process, and are protected by trade secret or copyright law.
* Dissemination of this information or reproduction of this material
* is strictly forbidden unless prior written permission is obtained
* from Adobe Systems Incorporated.
**************************************************************************/

define("pdmplugins/my-computer/js/ac-my-computer",["plugins-common/ac-plugins"],function(e){var t=e.MyComputer;return t||(t=e.MyComputer={}),t.PLUGIN_ID||(t.PLUGIN_ID="my_computer"),t}),define("pdmplugins/my-computer-select/js/ac-my-computer-select",["plugins-common/ac-plugins"],function(e){var t=e.MyComputerSelect;return t||(t=e.MyComputerSelect={}),t.PLUGIN_ID||(t.PLUGIN_ID="my_computer_select"),t}),define("pdmplugins/my-computer/js/ops/op-factory",["core/ac-core-init","pdmplugins/my-computer/js/ac-my-computer"],function(e,t){t.OpFactory=e.Op.extend({create:function(e,i){var n=t[e];return n?new n(i):void LOG(0,"AcMyComputer.OpFactory.create: Unrecognized class: "+e)}})}),define("pdmplugins/my-computer/js/templates/mycomputer-folder-template",[],function(){return'<div class = "recentFolder theme-list-item" tabIndex="0" aria-label="<%= folderName %> <%= folderPath %>" ><div class="folderImg"></div><div class="folderName theme-list-item-text"><%= folderName %></div><div class="folderPath theme-list-item-text"><%= folderPath %></div></div>'}),define("pdmplugins/my-computer/js/views/mycomputer-folder-view",["core/ac-core-init","pdmplugins/my-computer/js/ac-my-computer","pdmplugins/my-computer/js/templates/mycomputer-folder-template","core/utils/view-util","core/utils/focus-util","core/utils/truncate","core/utils/css-util","core/views/plugin-content-view"],function(e,t,i,n,o,s){return t.FolderView=e.View.extend({events:{"click .folderImg":"_onClick","click .folderName":"_onClick","focusin .recentFolder":"_onFolderFocusInHC","focusout .recentFolder":"_onFolderFocusOutHC","click .folderPath":"_onClick","keydown .recentFolder":"_onKeyDown"},initialize:function(){e.View.prototype.initialize.call(this),this._template=_.template(i),this.listenTo(this.model,"remove",this.teardown)},render:function(){return 0===this.$el.children().length&&this.$el.html(this._template({folderName:this._getName(),folderPath:this._getPath()})),this._initWrappers(),n.setElementFontByLocale(this.$el,"div"),this},truncateToFit:function(){s.truncateElementText(this.$name),s.truncateElementText(this.$path)},teardown:function(){this.remove()},setFocus:function(){this.$(".recentFolder").focus()},_initWrappers:function(){this.$name=this.$(".folderName"),this.$path=this.$(".folderPath")},_onKeyDown:function(e){13===e.which?this._onClick():32===e.which?this._onClick():o.nextElem(e)},_getName:function(){var e=this.model.get("name");if(""===e){var t=this.model.get("diPath");if(t){var i=t.split("/");i.pop(),i&&i.pop&&(e=i.pop())}}return e},_getPath:function(){return this.model.get("path")},_onClick:function(){Backbone.Events.trigger(this.options.clickEvent,this.model)},_onFolderFocusInHC:function(e){$(e.target)},_onFolderFocusOutHC:function(e){$(e.target)}}),t.FolderView}),define("pdmplugins/my-computer/js/nls/ui-strings",{root:!0,"xx-xx":!0,"ar-ae":!0,"ca-es":!0,"cs-cz":!0,"da-dk":!0,"de-de":!0,"en-ae":!0,"en-gb":!0,"en-il":!0,"es-es":!0,"eu-es":!0,"fi-fi":!0,"fr-fr":!0,"fr-ma":!0,"he-il":!0,"hr-hr":!0,"hu-hu":!0,"it-it":!0,"ja-jp":!0,"ko-kr":!0,"nb-no":!0,"nl-nl":!0,"pl-pl":!0,"pt-br":!0,"ro-ro":!0,"ru-ru":!0,"sk-sk":!0,"sl-si":!0,"sl-sl":!0,"sv-se":!0,"tr-tr":!0,"uk-ua":!0,"zh-cn":!0,"zh-tw":!0,"bg-bg":!0}),define("pdmplugins/my-computer/js/nls/root/ui-strings",{MY_COMPUTER:"My Computer",SELECT_FILES:"Choose Files from My Computer",NO_RECENT_FOLDERS_SELECT:"Click 'Browse' to open a file from your computer.",HEADING_RECENT_LOCATIONS:"Recent Locations",HEADING_SELECT_FROM_RECENT_FOLDER:"Select from Recent Folder...",HEADING_SELECT_FOLDER:"Save in Recent Folder...",BROWSE_BUTTON:"Browse",BROWSE_DIALOG_BUTTON:"Browse...",CHOOSE_A_DIFFERENT_FOLDER_BUTTON:"Choose a Different Folder...",BROWSE_FOLDER_TEXT:"Select a different folder",NO_RECENT_FOLDERS_SAVE_AS:"No Recent Folders"}),define("pdmplugins/my-computer/js/views/mycomputer-folders-view",["core/ac-core-init","backbone","pdmplugins/my-computer/js/ac-my-computer","pdmplugins/my-computer/js/views/mycomputer-folder-view","i18n!pdmplugins/my-computer/js/nls/ui-strings"],function(e,t,i,n){return i.FoldersView=e.View.extend({children:[],initialize:function(){e.View.prototype.initialize.call(this),this._addListeners(),this._addAppApiCallbacks()},render:function(){return this.children=[],this.$el.children(":not(.no-recentfolder-placeholder)").remove(),_.each(this.collection.models,this._renderItem,this),this},_addListeners:function(){this.collection.on("change",this.render),this.collection.bind("reset",this.render,this),this.collection.bind("add",this._renderItem,this)},_addAppApiCallbacks:function(){this.options.appApi.windowApi.addWindowResizeCallback(this.updateChildViewSizes)},_removeListeners:function(){this.collection.off("change",this.render),this.collection.unbind("reset",this.render,this),this.collection.unbind("add",this._renderItem,this)},_renderItem:function(e){if(e){var t=_.extend({},this.options,{model:e}),i=new n({model:e,clickEvent:this.options.clickEvent});this.children.push(i),this.$el.append(i.render().el),i.truncateToFit(),t.appApi.saveAsApi.isRunningInFileSaveAs()&&1===this.children.length&&i.setFocus()}},teardown:function(){this&&this._removeListeners()}}),i.FoldersView}),define("pdmplugins/my-computer/js/templates/mycomputer-template",[],function(){return'<div class="recentFoldersHeading theme-text" id = "recentFoldersHeading"><%= heading %></div><div class="recentFolders"><div class="no-recentfolder-placeholder"><%= noRecentLabel %></div></div><button type="button" tabindex="0" class="theme-button button browseButton openBrowseButton control-button navigable"><div class="theme-button-label"><%- buttonLabel %></div></button>'}),define("pdmplugins/my-computer/js/views/plugin-view",["core/ac-core-init","pdmplugins/my-computer/js/ac-my-computer","pdmplugins/my-computer/js/views/mycomputer-folders-view","pdmplugins/my-computer/js/templates/mycomputer-template","core/utils/view-util","i18n!pdmplugins/my-computer/js/nls/ui-strings","core/utils/focus-util","core/utils/sc-analytics","core/views/plugin-content-view"],function(e,t,i,n,o,s,r,l){return t.PluginView=e.PluginContentView.extend({events:{"click .openBrowseButton":"_OnBrowseBtnClick","keydown .openBrowseButton":"_onKeyDown"},initialize:function(){e.PluginContentView.prototype.initialize.call(this),Backbone.Events.on(this._getRecentFolderClickEvent(),this._onRecentFolderClick,this),this._template=_.template(n)},teardown:function(){Backbone.Events.off(this._getRecentFolderClickEvent()),this.$el.empty()},render:function(){var t=s.HEADING_RECENT_LOCATIONS,i=s.NO_RECENT_FOLDERS_SELECT,n=s.BROWSE_BUTTON,o=this.options.appApi;return e.PluginContentView.prototype.render.call(this),o.saveAsApi.isRunningInFileSaveAs()?(t=s.HEADING_SELECT_FOLDER,i=s.NO_RECENT_FOLDERS_SAVE_AS,n=s.CHOOSE_A_DIFFERENT_FOLDER_BUTTON):o.selectionApi.isRunningInFileSelection()&&(t=s.HEADING_SELECT_FROM_RECENT_FOLDER,n=s.BROWSE_DIALOG_BUTTON),0===this.$el.children().length&&(this.$el.html(this._template({heading:t,noRecentLabel:i,buttonLabel:n})),this._initWrappers(),this.$el.addClass("my-computer-container theme-container"),this.options.appApi.selectionApi.isRunningInFileSelection()&&this.options.appApi.rnaApi.done(function(e){e.logAnayticsCustomOpenSave("Time_To_Show_Dialog_View_My_Computer")})),this._renderChildViews(),this},_initWrappers:function(){this.$heading=this.$(".recentFoldersHeading"),this.$browserButton=this.$(".openBrowseButton"),this.$noRecentPlaceHolder=this.$(".no-recentfolder-placeholder"),this.$recentFolders=this.$(".recentFolders")},_getRecentFolderClickEvent:function(){return"mycomputer-plugin-recentFolder:click"},_renderChildViews:function(){this._renderRecentFoldersView(),o.setElementFontByLocale(this.$el,"button")},_renderRecentFoldersView:function(){var i=!1;this.options.appApi.saveAsApi.isRunningInFileSaveAs()&&(i=!0),this.options.appApi.rnaApi.done(_.bind(function(n){n.fileApi({methodName:"recentFolders",methodArgs:i}).done(_.bind(function(i){i&&(this._recentFolders=new e.RNACollection(void 0,_.extend({_proxy:i,shouldCache:!0})),this._recentFolders.length>0?this.$noRecentPlaceHolder.hide():this.$noRecentPlaceHolder.show(),this._renderChildView("_recentFoldersView",t.FoldersView,this.$recentFolders,{collection:this._recentFolders,clickEvent:this._getRecentFolderClickEvent()}),this.listenTo(this._recentFolders,"reset",this._onRecentFoldersChange)),this.options.appApi.selectionApi.isRunningInFileSelection()?this.$browserButton.hide():this.$browserButton.show()},this))},this))},_selectAndOpenFile:function(e){var t={};e&&(t.initialLocation=e._proxy);var i=($.Deferred(),this.options);i.appApi.rnaApi.done(function(e){e.selectAndOpenFile(t)})},selectPlugin:function(e){var t=this.options,i=t.appApi,n=i.displayApi,o=$.Deferred();return n.applyUIThemeStyles(this.$el).done(_.bind(function(){i.selectionApi.isRunningInFileSelection()?e&&e.scContext&&(this._scContext=e.scContext):i.siteCatalystApi.logScEvent([l.FILE_LIST,l.MY_COMPUTER,l.CLICKED]),this.render(),o.resolve()},this)),o},getSiteCatalystName:function(){return l.MY_COMPUTER},_onKeyDown:function(e){r.nextElem(e)},_OnBrowseBtnClick:function(){this._selectAndOpenFile()},_onRecentFolderClick:function(e){this._selectAndOpenFile(e)},_onRecentFoldersChange:function(){this._recentFolders&&this._recentFolders.length>0?this.$noRecentPlaceHolder.hide():this.$noRecentPlaceHolder.show()}}),t.PluginView}),define("pdmplugins/my-computer/js/my-computer",["pdmplugins/my-computer/js/ac-my-computer","pdmplugins/my-computer/js/ops/op-factory","pdmplugins/my-computer/js/views/plugin-view"],function(e){_.extend(e,{init:function(){e.opFactory=new e.OpFactory}})}),define("pdmplugins/my-computer-select/js/templates/file-save-as-options-header-template",[],function(){return'<div class="options-heading theme-text"> <%= fileOptions %> </div><div class="file-save-as-options"></div>'}),define("pdmplugins/my-computer-select/js/nls/ui-strings",{root:!0,"xx-xx":!0,"ar-ae":!0,"ca-es":!0,"cs-cz":!0,"da-dk":!0,"de-de":!0,"en-ae":!0,"en-gb":!0,"en-il":!0,"es-es":!0,"eu-es":!0,"fi-fi":!0,"fr-fr":!0,"fr-ma":!0,"he-il":!0,"hr-hr":!0,"hu-hu":!0,"it-it":!0,"ja-jp":!0,"ko-kr":!0,"nb-no":!0,"nl-nl":!0,"pl-pl":!0,"pt-br":!0,"ro-ro":!0,"ru-ru":!0,"sk-sk":!0,"sl-si":!0,"sl-sl":!0,"sv-se":!0,"tr-tr":!0,"uk-ua":!0,"zh-cn":!0,"zh-tw":!0,"bg-bg":!0}),define("pdmplugins/my-computer-select/js/nls/root/ui-strings",{FILE_OPTIONS:"File Options"}),define("pdmplugins/my-computer-select/js/views/plugin-view",["core/ac-core","files/ac-files","pdmplugins/my-computer/js/ac-my-computer","pdmplugins/my-computer-select/js/ac-my-computer-select","pdmplugins/my-computer-select/js/templates/file-save-as-options-header-template","i18n!pdmplugins/my-computer-select/js/nls/ui-strings","core/utils/focus-util","core/utils/sc-analytics","pdmplugins/my-computer/js/views/plugin-view","files/views/file-save-as-options-view","files/views/export-options-view"],function(e,t,i,n,o,s,r,l){return n.PluginView=i.PluginView.extend({initialize:function(){i.PluginView.prototype.initialize.call(this),_.extend(this.options,{noSelectionActions:!0,noUpload:!0,noNewFolder:!0,noUrlUpdate:!0,noNotifications:!0,noPreferences:!0,noAcrobat:!0,noFolderSelection:!0,multiFolderSelection:!0,noHoverPreview:!0,noFullPreview:!0,noShareButton:!0,selectFilesScContext:!0})},render:function(){var e=!1;return 0===this.$el.children().length&&(e=!0),i.PluginView.prototype.render.call(this),e&&(this._renderFileSaveAsOptionsView(),this._initWrappers()),this.$el.addClass("my-computer-select"),this},teardown:function(){Backbone.Events.off(this._getRecentFolderClickEvent()),this.$el.empty()},_initWrappers:function(){var e=i.PluginView.prototype._initWrappers;e&&e.call(this)},_getRecentFolderClickEvent:function(){return"my-computer-select-plugin-recentFolder:click"},_onRecentFolderClick:function(e){if(this._scContext&&this._scContext.constructor===Array){var t=[l.MY_COMPUTER,l.RECENT_FOLDER,l.SELECTED],i=this._scContext.concat(t);this.options.appApi.siteCatalystApi.logScEvent(i)}this.options.appApi.rnaApi.done(function(t){t.rnaFileAPI.openPlatformDialog(e)})},_renderFileSaveAsOptionsView:function(){var e=this.options.appApi.saveAsApi,i=e.shouldShowExportOptions(),n=e.shouldDisplaySaveAsOptions();if(i||n)if(this.$optionsContainer=$("<div>"),this.$optionsContainer.addClass("mycomputer-options-container"),this.$optionsContainer.addClass("unselectable"),this.$el.prepend(this.$optionsContainer),this.$el.addClass("file-save-as-acrobat-workflow"),i)this._renderChildView("_exportOptionsView",t.ExportOptionsView,this.$optionsContainer);else if(n){var r="File Options !!!";r=(s?s.FILE_OPTIONS:r)||r,this.$optionsContainer.html(_.template(o,{fileOptions:r})),this.$saveAsOptions=this.$(".file-save-as-options"),this._renderChildView("_fileSaveAsOptionsView",t.FileSaveAsOptionsView,this.$saveAsOptions)}}}),n.PluginView}),define("pdmplugins/my-computer-select/js/my-computer-select",["pdmplugins/my-computer/js/ac-my-computer","pdmplugins/my-computer-select/js/ac-my-computer-select","pdmplugins/my-computer/js/ops/op-factory","pdmplugins/my-computer-select/js/views/plugin-view"],function(e,t){_.extend(t,{init:function(){e.init()}})}),define("pdmplugins/my-computer-select/js/plugin",["core/ac-core-init","files/ac-files-init","pdmplugins/my-computer/js/ac-my-computer","pdmplugins/my-computer-select/js/ac-my-computer-select","pdmplugins/my-computer/js/my-computer","pdmplugins/my-computer-select/js/my-computer-select"],function(e,t,i,n){n.init()});